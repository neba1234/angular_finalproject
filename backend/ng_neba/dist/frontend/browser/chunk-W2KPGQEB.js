import{a as q,c as K}from"./chunk-ZM5K6NFS.js";import{a as I,b as P,c as O,e as T}from"./chunk-VNVKHAHG.js";import{E as $,I as A,J as G,a as C,b as a,d as S,e as y,g as E,h as x,i as F,j as N,k as R,l as V,m as D,n as B}from"./chunk-RF5QDE44.js";import{e as M,j as b,l as c}from"./chunk-64FVLR2L.js";import"./chunk-WXI33M2S.js";import{a as _}from"./chunk-VY32DVZK.js";import{$ as r,Hb as m,Lb as g,Qa as l,bc as w,da as v,ib as u,qb as o,ra as p,rb as i,sb as f,yb as h}from"./chunk-JFKBKRVP.js";var nt=(()=>{let t=class t{update_review(){this.http.put(c.BACKEND_SERVER+`/medications/${this.med_id()}/reviews/${this.review_id()}`,this.form.value).subscribe(e=>{e.success?(this.notification.success("Successfully updated"),this.navigation.navigate(["","med_route","medications",`${this.med_id()}`,"review-list"])):this.notification.error("Something went wrong")})}constructor(){this.http=r(_),this.med_id=p(),this.review_id=p(),this.navigation=r(M),this.notification=r(b),this.form=r(D).group({review:["",[a.required]],rating:[0,[a.required,a.min(0),a.max(10)]]}),w(()=>{this.http.get(c.BACKEND_SERVER+`/medications/${this.med_id()}/reviews/${this.review_id()}`).subscribe(e=>{e.success&&this.form.patchValue(e.data)})})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=v({type:t,selectors:[["app-reviewupdate"]],inputs:{med_id:[1,"med_id"],review_id:[1,"review_id"]},standalone:!0,features:[g],decls:12,vars:2,consts:[[3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","type","text","placeholder","Enter your review","formControlName","review"],["matInput","","type","number","placeholder","Enter your rating","formControlName","rating","min","0","max","10"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(n,s){n&1&&(o(0,"mat-card")(1,"form",0),h("ngSubmit",function(){return s.update_review()}),o(2,"mat-form-field",1)(3,"mat-label"),m(4,"Review"),i(),f(5,"input",2),i(),o(6,"mat-form-field",1)(7,"mat-label"),m(8,"Rating"),i(),f(9,"input",3),i(),o(10,"button",4),m(11," Update Review "),i()()()),n&2&&(l(),u("formGroup",s.form),l(9),u("disabled",s.form.invalid))},dependencies:[B,E,C,x,S,y,V,R,F,N,P,I,A,$,T,O,G,K,q],styles:["mat-card[_ngcontent-%COMP%]{max-width:800px;margin:80px auto 20px;padding:20px}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}button[_ngcontent-%COMP%]{width:100%}"]});let d=t;return d})();export{nt as ReviewupdateComponent};
