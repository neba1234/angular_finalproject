import{a as P,c as T}from"./chunk-ZM5K6NFS.js";import{a as A,b as B,c as G,e as O}from"./chunk-VNVKHAHG.js";import{E as D,I,J as V,a as w,b as m,d as y,e as C,g as S,h as E,i as _,j as x,m as F,n as N}from"./chunk-RF5QDE44.js";import{e as M,j as b,l as R}from"./chunk-64FVLR2L.js";import{a as j}from"./chunk-WGOEMV6R.js";import{a as g}from"./chunk-VY32DVZK.js";import{$ as o,Hb as a,Lb as h,Qa as p,da as c,ib as u,qb as r,ra as f,rb as t,sb as d,yb as v}from"./chunk-JFKBKRVP.js";var nt=(()=>{let i=class i{constructor(){this.medicationid=f(),this.http=o(g),this.notification=o(b),this.date=new Date,this.navigation=o(M),this.medications=o(j).medications,this.form=o(F).group({review:["",[m.required]],rating:[0,[m.required,m.min(0),m.max(10)]],date:this.date.toLocaleString()})}add_review(){this.http.post(R.BACKEND_SERVER+`/medications/${this.medicationid()}/reviews`,this.form.value).subscribe(l=>{if(l.success){let e=this.medications().find(n=>n._id===this.medicationid());e&&(this.notification.success("Review added successfully"),e.reviews?.push(this.form.value),this.navigation.navigate(["","med_route","medication-list"]))}})}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=c({type:i,selectors:[["app-reviewadd"]],inputs:{medicationid:[1,"medicationid"]},standalone:!0,features:[h],decls:16,vars:2,consts:[[3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","type","text","placeholder","Enter your review","formControlName","review"],["matInput","","type","number","placeholder","Enter your rating","formControlName","rating"],["matInput","","type","text","formControlName","date","readonly",""],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,n){e&1&&(r(0,"mat-card")(1,"form",0),v("ngSubmit",function(){return n.add_review()}),r(2,"mat-form-field",1)(3,"mat-label"),a(4,"Review"),t(),d(5,"input",2),t(),r(6,"mat-form-field",1)(7,"mat-label"),a(8,"Rating"),t(),d(9,"input",3),t(),r(10,"mat-form-field",1)(11,"mat-label"),a(12,"Date"),t(),d(13,"input",4),t(),r(14,"button",5),a(15," Add Review "),t()()()),e&2&&(p(),u("formGroup",n.form),p(13),u("disabled",n.form.invalid))},dependencies:[N,S,w,E,y,C,_,x,V,I,D,B,A,O,G,T,P],styles:["mat-card[_ngcontent-%COMP%]{max-width:800px;margin:60px auto auto;padding:20px}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;justify-content:center}button[_ngcontent-%COMP%]{display:block;width:100%}"]});let s=i;return s})();export{nt as a};
