import"./chunk-6WS57M4O.js";import{a as L,b as O,c as T}from"./chunk-ZM5K6NFS.js";import{a as A,b as P,c as V,e as B}from"./chunk-VNVKHAHG.js";import{E as D,I as G,J as q,a as y,b as l,d as x,e as C,g as F,i as S,j as N,m as E,n as w}from"./chunk-RF5QDE44.js";import{a as I}from"./chunk-MICC35WZ.js";import{e as M,j as _}from"./chunk-64FVLR2L.js";import"./chunk-WXI33M2S.js";import{a as j}from"./chunk-WGOEMV6R.js";import{a as v}from"./chunk-VY32DVZK.js";import{$ as o,Hb as n,Lb as g,Qa as u,bc as b,da as p,ib as f,qb as a,ra as c,rb as e,sb as m,yb as h}from"./chunk-JFKBKRVP.js";var lt=(()=>{let r=class r{submit(){if(this.form.invalid){console.log("Form is invalid");return}let t=new FormData;t.append("name",this.form.get("name")?.value),t.append("first_letter",this.form.get("first_letter")?.value),t.append("generic_name",this.form.get("generic_name")?.value),t.append("medication_class",this.form.get("medication_class")?.value),t.append("availability",this.form.get("availability")?.value),this.http.put(`http://localhost:3000/medications/${this.id()}`,t).subscribe({next:i=>{i.success?(this.notification.success("Medication updated successfully"),console.log("Medication updated successfully:",i.data),this.form.reset(),this.navigation.navigate(["","med_route","medication-list"])):(this.notification.error("Failed to update medication"),console.log("Failed to update medication"))},error:i=>{this.notification.error("Error updating medication"),console.error("Error updating medication:",i)}})}constructor(){this.id=c(),this.medications=o(j).medications,this.navigation=o(M),this.notification=o(_),this.state=o(I).state,this.form=o(E).group({name:["",[l.required]],first_letter:["",[l.required]],generic_name:["",[l.required]],medication_class:["",[l.required]],availability:["",[l.required]],added_by:[this.state()||""]}),this.http=o(v),b(()=>{for(let t of this.medications())t._id===this.id()&&this.form.patchValue({name:t.name,first_letter:t.first_letter,generic_name:t.generic_name,availability:t.availability,medication_class:t.medication_class})})}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=p({type:r,selectors:[["app-medicationupdate"]],inputs:{id:[1,"id"]},standalone:!0,features:[g],decls:26,vars:1,consts:[[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","text","formControlName","name","placeholder","Name"],["matInput","","type","text","formControlName","first_letter","placeholder","First Letter"],["matInput","","type","text","formControlName","generic_name","placeholder","Generic Name"],["matInput","","type","text","formControlName","medication_class","placeholder","Medication Class"],["matInput","","type","text","formControlName","availability","placeholder","Availability"],[1,"button-container"],["mat-raised-button","","color","primary","type","submit"]],template:function(i,s){i&1&&(a(0,"mat-card")(1,"mat-card-content")(2,"form",0),h("ngSubmit",function(){return s.submit()}),a(3,"mat-form-field",1)(4,"mat-label"),n(5,"Name"),e(),m(6,"input",2),e(),a(7,"mat-form-field",1)(8,"mat-label"),n(9,"First Letter"),e(),m(10,"input",3),e(),a(11,"mat-form-field",1)(12,"mat-label"),n(13,"Generic Name"),e(),m(14,"input",4),e(),a(15,"mat-form-field",1)(16,"mat-label"),n(17,"Medication Class"),e(),m(18,"input",5),e(),a(19,"mat-form-field",1)(20,"mat-label"),n(21,"Availability"),e(),m(22,"input",6),e(),a(23,"div",7)(24,"button",8),n(25," Update "),e()()()()()),i&2&&(u(2),f("formGroup",s.form))},dependencies:[w,F,y,x,C,S,N,P,A,G,D,B,V,q,T,L,O],styles:["mat-card[_ngcontent-%COMP%]{max-width:600px;margin:20px auto;padding:20px;box-shadow:0 2px 8px #0003}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]});let d=r;return d})();export{lt as MedicationupdateComponent};
